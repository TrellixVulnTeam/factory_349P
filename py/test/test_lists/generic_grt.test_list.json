{
  "inherit": [
    "generic_common.test_list"
  ],
  "constants": {
    "grt": {
      "force_write_protect": false,
      "__comment_force_write_protect": "*** Write protection is required for mass production and shippable devices. By default we enable write protection starting from PVT stages, but you can start trying write protection earlier by this option.",
      "gooftool_skip_list": [],
      "gooftool_waive_list": [],
      "secure_wipe": true
    }
  },
  "definitions": {
    "GRT": {
      "inherit": "TestGroup",
      "label": "GRT (Google Required Tests)",
      "locals": {
        "station": "GRT"
      },
      "subtests": [
        "GRTStart",
        "GRTItems",
        "CheckPoint",
        "GRTEnd",
        "ActivateRegCode",
        "AllCheckPoint",
        "GRTFinalize"
      ]
    },
    "GRTEnd": {
      "inherit": "TestGroup",
      "label": "Finish",
      "subtests": [
        "StationEnd"
      ]
    },
    "GRTFinalize": {
      "pytest_name": "finalize",
      "args": {
        "enable_factory_server": "eval! constants.enable_factory_server",
        "enforced_release_channels": "eval! ['stable'] if options.phase == 'PVT' else None",
        "gooftool_skip_list": "eval! constants.grt.gooftool_skip_list",
        "gooftool_waive_list": "eval! constants.grt.gooftool_waive_list",
        "secure_wipe": "eval! constants.grt.secure_wipe",
        "upload_method": "eval! 'shopfloor' if constants.enable_factory_server else 'none'",
        "write_protection": "eval! constants.grt.force_write_protect or options.phase == 'PVT'"
      }
    },
    "GRTFinish": {
      "inherit": "CheckPoint",
      "__comment": "A legacy test that should be removed in future."
    },
    "GRTItems": {
      "inherit": "FlattenGroup",
      "subtests": []
    },
    "GRTShopfloor": {
      "inherit": "TestGroup",
      "__comment": "A legacy test that should be removed in future.",
      "subtests": [
        "StationEnd",
        {
          "inherit": "CheckPoint",
          "id": "FinishGRT"
        }
      ]
    },
    "GRTStart": {
      "inherit": "TestGroup",
      "label": "Prepare",
      "subtests": [
        "AllCheckPoint",
        "StationStart"
      ]
    }
  }
}
